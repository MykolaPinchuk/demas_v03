FROM python:3.10
RUN apt-get update && apt-get install -y git && rm -rf /var/lib/apt/lists/*
WORKDIR /workspace

# Speed-focused preinstalls to avoid slow wheels at runtime
RUN python -m pip install -U pip && \
    python -m pip install -U \
      pytest numpy pandas \
      wheel setuptools setuptools_scm \
      hatchling hatch-vcs \
      meson-python ninja cython \
      hypothesis freezegun mock
